(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3723:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var s=n(9008),r=n(266),a=n(809),i=n.n(a),l=n(5675),o=n(3801),c=n(9196),d=n(8346),u=n(7294),x=n(9669),m=n.n(x),f=n(4155),h=m().create({baseURL:f.env.REACT_APP_API_ROUTES||"http://localhost:3001",timeout:5e3,headers:{"Content-Type":"application/json;charset=UTF-8"}});h.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),h.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var p=h,v=function(){var e=(0,r.Z)(i().mark((function e(t,n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/tasks/",{params:{status:t,page:n}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(i().mark((function e(t,n){var s,r,a,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.title,r=t.description,a=t.status,e.prev=1,e.next=4,p.post("/tasks/",{title:s,description:r,status:a,id:n});case 4:return l=e.sent,e.abrupt("return",l.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),b=n(5893),j=function(e){var t=e.closeConfirmModal,n=e.isOpen,s=e.task,a=e.setTasks,l=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s.status,s.status=3,e.next=5,t();case 5:return e.next=7,g(s,s.id);case 7:return e.t0=a,e.next=10,v(n,0);case 10:e.t1=e.sent,(0,e.t0)(e.t1),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(0),console.log(e.t2);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.u,{appear:!0,show:n,as:u.Fragment,children:(0,b.jsx)(d.V,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:t,children:(0,b.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,b.jsx)(c.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,b.jsx)(d.V.Overlay,{className:"fixed inset-0 bg-gray-700 opacity-20"})}),(0,b.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,b.jsx)(c.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,b.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,b.jsx)(d.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Confirm"}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("span",{children:"Are you sure to delete this task?"}),(0,b.jsxs)("div",{className:"flex justify-end mt-5",children:[(0,b.jsx)("button",{type:"button",onClick:t,className:"mr-4 inline-flex justify-center px-4 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-transparent rounded-md hover:bg-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",onClick:function(){return l()},className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-green-600 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500",children:"Delete"})]})]})]})})]})})})})},y=["Title","Description","Status","Actions"],w=function(e){var t=e.tasks,n=e.setSelected,s=e.selected,a=e.openModal,c=e.setTasks,d=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({title:"All",value:"0"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=(0,u.useState)(!1),m=x[0],f=x[1],h=(0,u.useState)(null),p=h[0],v=h[1];return(0,b.jsx)("div",{className:"flex flex-col",children:(0,b.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,b.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:[(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-white",children:[(0,b.jsx)("thead",{className:"bg-gray-700",children:(0,b.jsx)("tr",{children:y.map((function(e,t){return(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider ".concat(3==t&&"text-right"),children:e},e)}))})}),(0,b.jsx)("tbody",{children:null!==t&&void 0!==t&&t.rows.length?t.rows.map((function(e,t){return(0,b.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-100",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:null===e||void 0===e?void 0:e.title}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:null===e||void 0===e?void 0:e.description}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:null===e||void 0===e?void 0:e.status}),(0,b.jsxs)("td",{className:" px-6 py-4 text-right text-sm font-medium",children:[(0,b.jsx)("a",{onClick:function(){return a(e)},href:"#",className:"text-gray-700 hover:text-indigo-900",children:(0,b.jsx)(o.sCx,{className:"h-6 inline-flex mr-3"})}),(0,b.jsx)("a",{onClick:function(){return function(e){console.log(e),v(e),f(!0)}(e)},href:"#",className:"text-gray-700 text-red-500  hover:text-indigo-900",children:(0,b.jsx)(o.XHJ,{className:"h-6 inline-flex"})})]})]},t)})):(0,b.jsx)("tr",{className:"bg-gray-600",children:(0,b.jsx)("td",{colSpan:4,rowSpan:4,className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,b.jsxs)("div",{className:"select-none flex flex-col items-center mx-w-100",children:[(0,b.jsx)(l.default,{width:"600",height:"400",alt:"No hay Registros",src:"/images/travolta.gif"}),s&&0==s.value?(0,b.jsx)("h2",{className:"mt-4 text-gray-400 text-center",children:"there are no tasks"}):(0,b.jsxs)("h2",{className:"mt-4 text-gray-400 text-center",children:["there are no tasks with this status ",(0,b.jsx)("a",{onClick:d,className:"cursor-pointer text-gray-300 hover:text-gray-100 underline",children:"see all here"})]})]})})})})]}),(0,b.jsx)(j,{setTasks:c,task:p,isOpen:m,closeConfirmModal:function(){f(!1)}})]})})})})},N=n(8149),k=n(3153),T=[{title:"All",value:0},{title:"Pending",value:1},{title:"Done",value:2},{title:"Deleted",value:3}],C=function(e){var t=e.selected,n=e.setSelected;return(0,b.jsx)("div",{className:"h-10 w-32",children:(0,b.jsx)(N.R,{value:t,onChange:n,children:(0,b.jsxs)("div",{className:"relative mt-1",children:[(0,b.jsxs)(N.R.Button,{className:"relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg shadow-md cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm",children:[(0,b.jsx)("span",{className:"block truncate",children:t.title}),(0,b.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,b.jsx)(k.Ta4,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})]}),(0,b.jsx)(c.u,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,b.jsx)(N.R.Options,{className:"absolute z-10 w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:T.map((function(e){return(0,b.jsx)(N.R.Option,{className:function(e){var t=e.active;return"".concat(t?" text-gray-900 bg-green-100":"text-gray-900","\n                          cursor-default select-none relative py-2 pl-7 pr-4")},value:e,children:function(t){var n=t.selected;t.active;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"".concat(n?"font-medium":"font-normal"," block truncate"),children:e.title}),n?(0,b.jsx)("span",{className:"".concat("text-green-600","\n                                absolute inset-y-0 left-0 flex items-center pl-1"),children:(0,b.jsx)(k.nQG,{className:"w-5 h-5","aria-hidden":"true"})}):null]})}},e.value)}))})})]})})})},S=function(e){var t=e.setPage,n=e.tasks,s=(0,u.useState)(0),a=s[0],l=s[1],o=(0,u.useState)(0),c=o[0],d=o[1],x=(0,u.useState)([]),m=x[0],f=x[1],h=function(){var e=(0,r.Z)(i().mark((function e(){var t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],s=0;s<=n.pagesTotal;s++)t[s]={value:s,label:s+1};return e.t0=f,e.next=5,t;case 5:e.t1=e.sent,(0,e.t0)(e.t1),console.log(m);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){console.log(e),t(e)};return(0,u.useEffect)((function(){null!=n&&(!function(){var e,t=n.rowsTotal>0?10*n.page+1:0;e=0==n.page?n.rowsTotal<10?n.rowsTotal:10:10*n.page+10>n.rowsTotal?n.rowsTotal:10*n.page+10,d(t),l(e)}(),h())}),[n]),(0,b.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between pr-0",children:[(0,b.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,b.jsx)("button",{children:(0,b.jsx)("a",{href:"#",className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"})}),(0,b.jsx)("a",{href:"#",className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),(0,b.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:"text-sm text-white",children:["showing ",(0,b.jsx)("span",{className:"font-medium",children:c})," to ",(0,b.jsx)("span",{className:"font-medium",children:a})," of"," ",(0,b.jsx)("span",{className:"font-medium",children:null===n||void 0===n?void 0:n.rowsTotal})," results"]})}),(0,b.jsx)("div",{children:(0,b.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,b.jsx)("button",{disabled:0==(null===n||void 0===n?void 0:n.page),onClick:function(){return p((null===n||void 0===n?void 0:n.page)-1)},children:(0,b.jsxs)("a",{href:"#",className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,b.jsx)("span",{className:"sr-only",children:"Previous"}),(0,b.jsx)(k.wyc,{className:"h-5 w-5","aria-hidden":"true"})]})}),m&&(null===m||void 0===m?void 0:m.map((function(e){return(0,b.jsx)("a",{onClick:function(){return p(e.value)},href:"#","aria-current":"page",className:"".concat(n.page==e.value?"bg-green-100":"bg-white"," border-gray-300 hover:bg-green-100 text-gray-500 relative inline-flex items-center px-4 py-2 border text-sm font-medium"),children:e.label},e.value)}))),(0,b.jsx)("button",{disabled:(null===n||void 0===n?void 0:n.page)==(null===n||void 0===n?void 0:n.pagesTotal),onClick:function(){return p((null===n||void 0===n?void 0:n.page)+1)},children:(0,b.jsxs)("a",{href:"#",className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,b.jsx)("span",{className:"sr-only",children:"Next"}),(0,b.jsx)(k.XCv,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})]})]})},O=function(e){var t=e.isOpen,n=e.closeModal,s=e.children,r=e.taskSelected;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.u,{appear:!0,show:t,as:u.Fragment,children:(0,b.jsx)(d.V,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:n,children:(0,b.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,b.jsx)(c.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,b.jsx)(d.V.Overlay,{className:"fixed inset-0 bg-gray-700 opacity-20"})}),(0,b.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,b.jsx)(c.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,b.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,b.jsx)(d.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:r?"Updating Task":"Creating Task"}),(0,b.jsx)("div",{className:"mt-2",children:s})]})})]})})})})},F=n(2809),P=n(7536);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=T.filter((function(e){return 0!=e.value})),A=function(e){var t=e.closeModal,n=e.taskSelected,s=e.obtainTasks,a=(0,P.cI)({defaultValues:{title:null===n||void 0===n?void 0:n.title,description:null===n||void 0===n?void 0:n.description}}),l=a.register,o=a.handleSubmit,c=a.formState,d=(c.errors,c.isDirty,c.isSubmitting,c.touchedFields,c.isValid,c.submitCount,function(){var e=(0,r.Z)(i().mark((function e(r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(null===n||void 0===n?void 0:n.id),e.next=3,null===n||void 0===n?void 0:n.id;case 3:if(!e.sent){e.next=7;break}e.t0=null===n||void 0===n?void 0:n.id,e.next=8;break;case 7:e.t0=null;case 8:return a=e.t0,console.log(a),e.next=12,g(r,a);case 12:return e.next=14,t();case 14:return e.next=16,s(0,0);case 16:console.log(a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return(0,u.useEffect)((function(){}),[]),(0,b.jsxs)("form",{className:"px-1 pt-6",onSubmit:o(d),children:[(0,b.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,b.jsx)("label",{className:"mb-1",htmlFor:"title",children:"Title"}),(0,b.jsx)("input",_({defaultValue:null===n||void 0===n?void 0:n.title,className:"border border-solid border-gray-300 rounded h-8 px-2 focus:caret-green-300 focus:outline-green-300",type:"text"},l("title",{required:!0,maxLength:20})))]}),(0,b.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,b.jsx)("label",{className:"mb-1",htmlFor:"description",children:"Description"}),(0,b.jsx)("input",_({defaultValue:null===n||void 0===n?void 0:n.description,className:"border border-solid border-gray-300 rounded h-8 px-2 focus:caret-green-300 focus:outline-green-300",type:"text"},l("description",{required:!0,maxLength:20})))]}),(0,b.jsxs)("div",{className:"flex flex-col mb-10",children:[(0,b.jsx)("label",{className:"mb-1",htmlFor:"status",children:"Status"}),(0,b.jsx)("select",_(_({defaultValue:null===n||void 0===n?void 0:n.status,className:"h-8 border border-solid border-gray-300 rounded h-8 px-2 focus:caret-green-300 focus:outline-green-300"},l("status",{required:!0})),{},{children:V.map((function(e,t){return(0,b.jsx)("option",{value:e.value,children:e.title},t)}))}))]}),(0,b.jsxs)("div",{className:"flex justify-end",children:[(0,b.jsx)("button",{type:"button",onClick:t,className:"mr-4 inline-flex justify-center px-4 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-transparent rounded-md hover:bg-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-green-600 bg-green-100 border border-transparent rounded-md hover:bg-green-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:n?"Update":"Create"})]})]})},D=function(){var e=(0,u.useState)(null),t=e[0],n=e[1],s=(0,u.useState)(!1),a=s[0],l=s[1],c=(0,u.useState)(T[0]),d=c[0],x=c[1],m=(0,u.useState)(0),f=m[0],h=m[1],p=(0,u.useState)(null),g=p[0],j=p[1],y=function(){l(!1)},N=function(e){j(e),l(!0)},k=function(){var e=(0,r.Z)(i().mark((function e(t,s){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!s){e.next=9;break}return e.t0=n,e.next=4,v(t,s);case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:e.next=15;break;case 9:return e.t2=n,e.next=12,v(d.value,f);case 12:return e.t3=e.sent,e.next=15,(0,e.t2)(e.t3);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){k()}),[]),(0,u.useEffect)((function(){k()}),[d,f]),(0,b.jsxs)("div",{className:"rounded bg-gray-600 shadow-xl shadow-gray-800 p-10",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("h2",{className:"text-center text-white text-2xl mb-5 font-bold",children:"TASKS CHALLENGE"}),(0,b.jsxs)("div",{className:"flex basis-80 justify-between items-start",children:[(0,b.jsxs)("button",{type:"submit",onClick:function(){return N(null)},className:"mt-1 inline-flex justify-center px-4 py-2 text-sm font-medium text-green-600 border border-transparent rounded-md hover:bg-green-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 bg-green-100",children:["Create New Task",(0,b.jsx)(o.d1n,{className:"ml-2 h-4 w-4","aria-hidden":"true"})]}),(0,b.jsx)(C,{selected:d,setSelected:x})]})]}),(0,b.jsx)(w,{setTasks:n,tasks:t,setSelected:x,selected:d,openModal:N}),(0,b.jsx)(S,{tasks:t,setPage:h,selected:d.value}),(0,b.jsx)(O,{taskSelected:g,closeModal:y,isOpen:a,children:(0,b.jsx)(A,{taskSelected:g,closeModal:y,obtainTasks:k})})]})},Z=function(){return(0,b.jsxs)("div",{className:"p-5 sm:p-10 bg-gray-700 min-h-screen",children:[(0,b.jsxs)(s.default,{children:[(0,b.jsx)("title",{children:"Create Next App"}),(0,b.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,b.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,b.jsxs)("main",{className:"sm:container sm:mx-auto",children:[(0,b.jsx)(l.default,{width:"100",height:"30",alt:"Zarego",src:"/images/zarego.png"}),(0,b.jsx)(D,{})]})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3723)}])}},function(e){e.O(0,[265,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);